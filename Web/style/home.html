<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lawrence Home</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
</head>
<body>
    <header>
        <h1>Lawrence Project</h1>
        <nav class="navbar">
            <a href="#" id="home">Home</a>
        </nav>
    </header>
    <div class="page_content">
        <div class="left_panel">
            <p id="userslot">Utilisateur: [Nom de l'utilisateur]</p>
            <p id="typeofaccount">Type de compte: [Type de compte]</p>
            <button id="disconnect">Déconnexion</button>
            <button id="deleteaccount">Supprimer le compte</button>
        </div>
        <div class="right_panel">
            <h2>Bienvenue sur Lawrence</h2>
            <div id="adminPanel">
                <!-- Contenu de l'adminPanel -->
            </div>
            <div id="map_container">
                <h3>Carte</h3>
                <div id="map" style="height: 400px;"></div>
            </div>
        </div>
    </div>
    <footer>
        <p>Ciel-2 : 2024-2025</p>
        <p>Projet Lawrence</p>
    </footer>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <script src="/script/adminPanel.js"></script>
    <script src="/script/disconnect.js"></script>
    <script src="/script/leaflet.js"></script>
    <script>
        // Initialisation de la carte Leaflet centrée sur Amiens
        var map = L.map('map').setView([47.69413, -0.076699], 13);

        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        // Ajout d'un marqueur avec popup à Amiens
        var marker = L.marker([49.877400834827434, 2.3014615971887586]).addTo(map)
            .bindPopup('<b>Bienvenue à Amiens!</b><br>Vous êtes à la Providence.')
            

        // Ajout d'un cercle avec popup
        var circle = L.circle([49.877400834827434, 2.3014615971887586], {
            color: 'red',
            fillColor: '#f03',
            fillOpacity: 0.5,
            radius: 500
        }).addTo(map)
            

        // Ajout d'un polygone avec popup
        var polygon = L.polygon([
            [49.8950, 2.2967],
            [49.8930, 2.2947],
            [49.8960, 2.2937]
        ]).addTo(map)
            

        // Ajout d'une fenêtre contextuelle autonome
        var popup = L.popup()
            .setLatLng([49.877400834827434, 2.3014615971887586])
            
            .openOn(map);

        // Gestion des événements de clic sur la carte
        function onMapClick(e) {
            popup
                .setLatLng(e.latlng)
                .setContent("Vous avez cliqué sur la carte à " + e.latlng.toString())
                .openOn(map);
        }

        map.on('click', onMapClick);
    </script>
</body>
</html>
